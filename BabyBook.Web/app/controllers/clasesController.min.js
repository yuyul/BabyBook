app.controller("clasesController",["$scope","$location","clasesService","$rootScope","alumnosService","cursosService","$routeParams",function(n,t,i,r,u,f,e){var s,h,o;console.log("clases");n.clases=[];n.clase={id:"",nombre:"",centroId:""};n.asignacion={AlumnoId:"",ClaseId:"",CursoId:""};n.alumnos=[];n.cursos=[];n.cursoSeleccionado="";n.message="";n.isAsignacion=!1;n.isVerAlumnos=!1;e.id===undefined?i.getClasesByCentro(r.centroSeleccionado).then(function(t){n.clases=t.data},function(){console.log("error")}):i.getByClaseId(e.id).then(function(t){n.clase=t.data},function(){console.log("error")});n.save=function(){n.clase.id==""?s():h()};s=function(){n.clase.CentroId=r.centroSeleccionado;i.createClase(n.clase).then(function(){t.path("/home")},function(t){n.message=t.error_description})};h=function(){i.updateClase(n.clase).then(function(){t("/home")},function(t){n.message=t.error_description})};n.editClase=function(t){t==="new"?(n.newClase=!0,n.clase={id:0,nombre:"",centroId:r.centroSeleccionado}):(n.newClase=!1,n.clase=t)};n.cargarAlumnos=function(t){n.isAsignacion?u.getAlumnosSinAsignarByCentroCurso(r.centroSeleccionado,t).then(function(t){n.alumnos=t.data},function(){console.log("error")}):u.getAlumnosByClaseCurso(n.clase.id,t).then(function(t){n.alumnos=t.data},function(){console.log("error")})};n.mostrarAlumnos=function(t){n.isAsignacion=!0;n.isVerAlumnos=!1;n.clase=t;n.alumnos=[];o()};n.verAlumnos=function(t){n.isVerAlumnos=!0;n.isAsignacion=!1;n.clase=t;n.alumnos=[];o()};n.asignarAlumnos=function(t,r){var u=[];n.alumnos.filter(function(n){return n.seleccionado==!0}).forEach(function(n){var i={alumnoId:n.id,cursoId:r,claseId:t};u.push(i)});i.asignarAlumnos(u)};n.eliminarAsignacion=function(t,r){var u=[];n.alumnos.filter(function(n){return n.seleccionado==!0}).forEach(function(n){var i={alumnoId:n.id,cursoId:r,claseId:t};u.push(i)});i.eliminarAsignacion(u)};o=function(){f.getCursosByCentro(r.centroSeleccionado).then(function(t){n.cursos=t.data},function(){console.log("error")})};n.muestraCurso=function(n){alert(n.id)}}]);
/*
//# sourceMappingURL=clasesController.min.js.map
*/