app.controller("agendasController",["$scope","$routeParams","agendasService","$location",function(n,t,i){n.controles=[];n.control={};n.newControl="";i.getByAlumnoId(t.id).then(function(t){n.controles=t.data});n.editControl=function(i){i==="new"?(n.newControl=!0,n.control={fecha:"",alumnoId:t.id,observacionesCasa:"",observacionesCentro:"",estadoDia:"",comida:"",siesta:"",merienda:"",deposicion:""}):(n.newControl=!1,n.control=i)};n.save=function(r){var u=!0,f;n.newControl&&(f=n.controles.filter(function(n){var t=new Date(n.fecha);return t.getDate()==r.fecha.getDate()&&t.getMonth()==r.fecha.getMonth()&&t.getFullYear()==r.fecha.getFullYear()}),f.length>0&&(u=!1,alert("Ya existe un control para el día seleccionado. Los datos no serán guardados.")));u&&(i.saveControl(r),setTimeout(function(){i.getByAlumnoId(t.id).then(function(t){n.controles=t.data})},1e3))}}]);
/*
//# sourceMappingURL=agendasController.min.js.map
*/