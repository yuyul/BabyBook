app.controller("profesoresController",["$scope","$location","profesoresService","$rootScope","clasesService","alumnosService",function(n,t,i,r,u,f){console.log("profesores");n.profesores=[];n.clases=[];n.profesor={id:0,nombre:"",primerApellido:"",segundoApelido:"",email:"",centroId:"",claseId:""};n.message="";n.messageok="";n.alumnos=[];n.claseSeleccionada=0;t.path()=="/profesores"?i.getProfesoresByCentro(r.centroSeleccionado).then(function(t){n.profesores=t.data},function(){console.log("error")}):f.getAlumnosByProfesor().then(function(t){n.alumnos=t.data},function(){console.log("error")});n.editProfesor=function(t){n.message="";n.messageok="";t==="new"?(n.newProfesor=!0,n.profesor={id:0,nombre:"",primerApellido:"",segundoApelido:"",email:"",centroId:r.centroSeleccionado,claseId:""}):(n.newProfesor=!1,n.profesor=t)};n.save=function(t){n.newProfesor?(i.createProfesor(t).then(function(){n.messageok="Profesor guardado correctamente"},function(t){n.message=t.error_description}),e()):i.updateProfesor(t).then(function(){n.messageok="Profesor guardado correctamente"},function(t){n.message=t.error_description})};n.mostrarClases=function(t){n.profesor=t;n.claseSeleccionada=t.claseId;u.getClasesByCentro(r.centroSeleccionado).then(function(t){n.clases=t.data},function(){console.log("error")})};n.asignarClase=function(t){i.updateProfesor(t).then(function(){n.messageok="Asignaci√≥n guardada correctamente"},function(t){n.message=t.error_description;console.log("error")});e()};var e=function(){setTimeout(function(){i.getProfesoresByCentro(r.centroSeleccionado).then(function(t){n.profesores=t.data},function(){console.log("error")})},1e3)};n.eliminarProfesor=function(n){i.deleteProfesor(n).then(function(){e()})}}]);
/*
//# sourceMappingURL=profesoresController.min.js.map
*/